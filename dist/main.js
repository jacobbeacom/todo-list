(()=>{"use strict";class t{constructor(t,e,n=!1){this.name=t,this.dueDate=e,this.completed=n}setName(t){this.name=t}setDate(t){this.dueDate=t}setCompletedStatus(t){this.completed=t}getName(){return this.name}getDate(){return this.dueDate}getCompletedStatus(){return this.completed}}const e=function(e,n,o){const c=new t(e,n,o);return console.log(c),c},n=function(){const t=[],n=[],o=[],c=[];if(0===localStorage.length){const t=a("New Project",o);n.push(t)}else if(localStorage.length>0){const o=Object.keys(localStorage);let s=o.length;for(;s--;)t.push(JSON.parse(localStorage.getItem(o[s])));for(let o=0;o<t.length;o+=1){for(let n=0;n<t[o].toDoList.length;n+=1){const s=t[o].toDoList[n],d=e(s.name,s.dueDate,s.completed);c.push(d)}const s=a(t[o].name,c);n.push(s)}}return n},o=function(){const t=document.getElementById("projectList"),e=n();t.innerHTML="";for(let n=0;n<e.length;n++){const o=document.createElement("button");o.classList.add("projectListItem"),o.textContent=`${e[n].name}`,o.setAttribute("id",`${e[n].name}`),o.addEventListener("click",(t=>{if(t.target.classList.contains("active"));else{const e=document.getElementsByClassName("projectListItem");for(let t=0;t<e.length;t++)e[t].classList.remove("active");t.target.classList.add("active")}})),t.appendChild(o)}},c=function(t){const e=String(t.name);localStorage.setItem(e,JSON.stringify(t))};class s{constructor(t,e){this.name=t,this.toDoList=e}changeName(t){this.name=t}addToDo(t){const n=e(t,"1/1/2022",!1);this.toDoList.push(n)}removeToDo(t){const e=this.toDoList.indexOf(t);this.toDoList.splice(e,1)}}function d(){const t=document.getElementById("sidebar"),e=document.getElementById("newProjectForm");t.removeChild(e)}function a(t,e){const n=new s(t,e);return c(n),n}const i=function(t,e){e.toDoList.splice(t,1)},l=function t(){const e=function(){let t=0;const e=document.getElementsByClassName("projectListItem");for(let n=0;n<e.length;n+=1)t=e[n].classList.contains("active")?n:0;return t}(),o=document.getElementById("body"),s=n();o.innerHTML="";const d=document.createElement("p");d.textContent=`${s[e].name}`,d.classList.add("projectTitle");const a=document.createElement("div");a.classList.add("projectTasksArea");const l=s[e].toDoList;if(l.length>0)for(let n=0;n<l.length;n+=1){const o=document.createElement("div");o.classList.add("task");const d=document.createElement("p");d.textContent=l[n].getName();const r=document.createElement("p");r.textContent=l[n].getDate();const m=document.createElement("div"),u=document.createElement("input");u.setAttribute("type","checkbox"),u.setAttribute("id",`${d.textContent} Completed`);const p=document.createElement("label");p.setAttribute("for",`${d.textContent} Completed`),p.textContent="Completed",m.appendChild(u),m.appendChild(p);const h=document.createElement("button");h.textContent="X",h.addEventListener("click",(()=>{i(n,s[e]),c(s[e]),t()})),o.appendChild(d),o.appendChild(r),o.appendChild(m),o.appendChild(h),a.appendChild(o)}const r=document.createElement("button");return r.classList.add("task"),r.setAttribute("id","newTaskButton"),r.textContent="Add New Task",r.addEventListener("click",(()=>{const n=s[e];n.addToDo("New Task"),c(n),t()})),a.appendChild(r),o.appendChild(d),o.appendChild(a),o};!function(){const t=document.getElementById("content");t.appendChild(function(){const t=document.createElement("header");t.classList.add("header");const e=document.createElement("h1");return e.textContent="To.Do",e.classList.add("appTitle"),t.appendChild(e),t}()),t.appendChild(function(){const t=document.createElement("div");t.classList.add("sidebar"),t.setAttribute("id","sidebar");const e=document.createElement("div");e.classList.add("projectList"),e.setAttribute("id","projectList");const n=document.createElement("button");return n.classList.add("addProject"),n.textContent="Add Project",n.addEventListener("click",(()=>{t.appendChild(function(){const t=document.createElement("div");t.classList.add("newProjectForm"),t.setAttribute("id","newProjectForm");const e=document.createElement("input");e.classList.add("newProjectName");const n=document.createElement("div");n.classList.add("newProjectButtons");const c=document.createElement("button");c.classList.add("newProjectSubmit"),c.textContent="Submit",c.addEventListener("click",(()=>{a(e.value),d(),o()}));const s=document.createElement("button");return s.classList.add("newProjectCancel"),s.textContent="Cancel",s.addEventListener("click",(()=>{d()})),n.appendChild(c),n.appendChild(s),t.appendChild(e),t.appendChild(n),t}())})),t.appendChild(e),t.appendChild(n),t}()),o(),t.appendChild(function(){const t=document.createElement("main");return t.setAttribute("id","body"),t.classList.add("main"),t}()),t.appendChild(function(){const t=document.createElement("footer");t.classList.add("footer");const e=document.createElement("a");return e.textContent="Â©Jacob Beacom 2021",e.setAttribute("href","https://github.com/jacobbeacom"),t.appendChild(e),t}()),l()}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VUMsSUFBSSxvQkFDL0J5RCxFQUFpQnhELFlBQWMsU0FDL0J3RCxFQUFpQnRELGlCQUFpQixTQUFTLEtBQ3pDdUIsT0FHRjRCLEVBQWtCNUMsWUFBWTZDLEdBQzlCRCxFQUFrQjVDLFlBQVkrQyxHQUU5QkwsRUFBZTFDLFlBQVkyQyxHQUMzQkQsRUFBZTFDLFlBQVk0QyxHQUVwQkYsRUczQmVNLE9BR3RCUixFQUFReEMsWUFBWWxCLEdBQ3BCMEQsRUFBUXhDLFlBQVl5QyxHQUViRCxFQXlCYVMsSUFDcEIsSUFDQWIsRUFBUXBDLFlBeEJWLFdBQ0UsTUFBTWtELEVBQU9uRSxTQUFTSyxjQUFjLFFBR3BDLE9BRkE4RCxFQUFLMUQsYUFBYSxLQUFNLFFBQ3hCMEQsRUFBSzdELFVBQVVDLElBQUksUUFDWjRELEVBb0JhQyxJQUNwQmYsRUFBUXBDLFlBbEJWLFdBQ0UsTUFBTW9ELEVBQVNyRSxTQUFTSyxjQUFjLFVBQ3RDZ0UsRUFBTy9ELFVBQVVDLElBQUksVUFFckIsTUFBTStELEVBQVl0RSxTQUFTSyxjQUFjLEtBS3pDLE9BSkFpRSxFQUFVOUQsWUFBYyxxQkFDeEI4RCxFQUFVN0QsYUFBYSxPQUFRLGtDQUMvQjRELEVBQU9wRCxZQUFZcUQsR0FFWkQsRUFTYUUsSUFDcEIsSUNoRUYsSSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9hcHBsb2dpYy9UYXNrcy9jcmVhdGVuZXd0YXNrLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9hcHBsb2dpYy9Mb2NhbFN0b3JhZ2UvY2hlY2tsb2NhbHN0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL0RPTS9wcm9qZWN0bGlzdC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvYXBwbG9naWMvTG9jYWxTdG9yYWdlL3NhdmV0b2xvY2Fsc3RvcmFnZS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvYXBwbG9naWMvUHJvamVjdHMvY3JlYXRlbmV3cHJvamVjdC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvYXBwbG9naWMvVGFza3MvZGVsZXRldGFzay5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvRE9NL3Byb2plY3RvdmVydmlldy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvd2Vic2l0ZS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgVGFzayB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIGR1ZURhdGUsIGNvbXBsZXRlZCA9IGZhbHNlKSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlO1xuICAgIHRoaXMuY29tcGxldGVkID0gY29tcGxldGVkO1xuICB9XG5cbiAgc2V0TmFtZShuYW1lKSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgfVxuXG4gIHNldERhdGUoZHVlRGF0ZSkge1xuICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XG4gIH1cblxuICBzZXRDb21wbGV0ZWRTdGF0dXMoY29tcGxldGVkKSB7XG4gICAgdGhpcy5jb21wbGV0ZWQgPSBjb21wbGV0ZWQ7XG4gIH1cblxuICBnZXROYW1lKCkge1xuICAgIHJldHVybiB0aGlzLm5hbWU7XG4gIH1cblxuICBnZXREYXRlKCkge1xuICAgIHJldHVybiB0aGlzLmR1ZURhdGU7XG4gIH1cblxuICBnZXRDb21wbGV0ZWRTdGF0dXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29tcGxldGVkO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU5ld1Rhc2sobmFtZSwgZHVlRGF0ZSwgY29tcGxldGVkKSB7XG4gIGNvbnN0IG5ld1Rhc2sgPSBuZXcgVGFzayhuYW1lLCBkdWVEYXRlLCBjb21wbGV0ZWQpO1xuICBjb25zb2xlLmxvZyhuZXdUYXNrKTtcbiAgcmV0dXJuIG5ld1Rhc2s7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZU5ld1Rhc2s7XG4iLCJpbXBvcnQge2NyZWF0ZU5ld1Byb2plY3R9IGZyb20gJy4uL1Byb2plY3RzL2NyZWF0ZW5ld3Byb2plY3QnO1xuaW1wb3J0IGNyZWF0ZU5ld1Rhc2sgZnJvbSAnLi4vVGFza3MvY3JlYXRlbmV3dGFzayc7XG5cbmZ1bmN0aW9uIGNoZWNrU3RvcmFnZSgpIHtcbiAgY29uc3QgcHJvamVjdHMgPSBbXTtcbiAgY29uc3QgY2xhc3NlZFByb2plY3RzID0gW107XG4gIGNvbnN0IHRvRG9MaXN0ID0gW107XG4gIGNvbnN0IGNsYXNzZWRUb0RvTGlzdCA9IFtdO1xuXG4gIGlmIChsb2NhbFN0b3JhZ2UubGVuZ3RoID09PSAwKSB7XG4gICAgY29uc3QgZGVmYXVsdFByb2plY3QgPSBjcmVhdGVOZXdQcm9qZWN0KCdOZXcgUHJvamVjdCcsIHRvRG9MaXN0KTtcbiAgICBjbGFzc2VkUHJvamVjdHMucHVzaChkZWZhdWx0UHJvamVjdCk7XG4gIH0gZWxzZSBpZiAobG9jYWxTdG9yYWdlLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMobG9jYWxTdG9yYWdlKTtcbiAgICBsZXQgaSA9IGtleXMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIHByb2plY3RzLnB1c2goSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXlzW2ldKSkpO1xuICAgIH1cblxuICAgIGZvciAobGV0IHAgPSAwOyBwIDwgcHJvamVjdHMubGVuZ3RoOyBwICs9IDEpIHtcbiAgICAgIGZvciAobGV0IHMgPSAwOyBzIDwgcHJvamVjdHNbcF0udG9Eb0xpc3QubGVuZ3RoOyBzICs9IDEpIHtcbiAgICAgICAgY29uc3QgdGFzayA9IHByb2plY3RzW3BdLnRvRG9MaXN0W3NdO1xuICAgICAgICBjb25zdCBjbGFzc2VkVGFzayA9IGNyZWF0ZU5ld1Rhc2sodGFzay5uYW1lLCB0YXNrLmR1ZURhdGUsIHRhc2suY29tcGxldGVkKTtcbiAgICAgICAgY2xhc3NlZFRvRG9MaXN0LnB1c2goY2xhc3NlZFRhc2spO1xuICAgICAgfVxuICAgICAgY29uc3QgY2xhc3NlZFByb2plY3QgPSBjcmVhdGVOZXdQcm9qZWN0KHByb2plY3RzW3BdLm5hbWUsIGNsYXNzZWRUb0RvTGlzdCk7XG4gICAgICBjbGFzc2VkUHJvamVjdHMucHVzaChjbGFzc2VkUHJvamVjdCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNsYXNzZWRQcm9qZWN0cztcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2hlY2tTdG9yYWdlO1xuXG4vLyBjaGVja3N0b3JhZ2Ugd2lsbCBiZSBjYWxsZWQgZWxzZSt3aGVyZSwgc28gd2UgZG8gbm90IG5lZWQgdG8gZGVmaW5lIGEgcGxhY2UgZm9yIHRoZSBzdG9yZWQgdXNlclByb2plY3RzIGFycmF5IHRvIGdvIGluIHRoaXMgbW9kdWxlXG4iLCJpbXBvcnQgY2hlY2tTdG9yYWdlIGZyb20gJy4uL2FwcGxvZ2ljL0xvY2FsU3RvcmFnZS9jaGVja2xvY2Fsc3RvcmFnZSc7XG5cbmZ1bmN0aW9uIHBvcHVsYXRlUHJvamVjdExpc3QoKSB7XG4gIGNvbnN0IHByb2plY3RMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RMaXN0Jyk7XG4gIGNvbnN0IGxpc3QgPSBjaGVja1N0b3JhZ2UoKTtcblxuICBwcm9qZWN0TGlzdC5pbm5lckhUTUwgPSAnJztcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBsaXN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGxpc3RJdGVtLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3RMaXN0SXRlbScpO1xuICAgIGxpc3RJdGVtLnRleHRDb250ZW50ID0gYCR7bGlzdFtpXS5uYW1lfWA7XG4gICAgbGlzdEl0ZW0uc2V0QXR0cmlidXRlKCdpZCcsIGAke2xpc3RbaV0ubmFtZX1gKTtcbiAgICBsaXN0SXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgYnV0dG9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Byb2plY3RMaXN0SXRlbScpO1xuICAgICAgICBmb3IgKGxldCBwID0gMDsgcCA8IGJ1dHRvbnMubGVuZ3RoOyBwKyspIHtcbiAgICAgICAgICBidXR0b25zW3BdLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHByb2plY3RMaXN0LmFwcGVuZENoaWxkKGxpc3RJdGVtKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBwb3B1bGF0ZVByb2plY3RMaXN0O1xuIiwiaW1wb3J0IHBvcHVsYXRlUHJvamVjdExpc3QgZnJvbSBcIi4uLy4uL0RPTS9wcm9qZWN0bGlzdFwiO1xuXG5cbmZ1bmN0aW9uIHNhdmVUb1N0b3JhZ2UgKHByb2plY3QpIHtcbiAgICBjb25zdCBwcm9qZWN0TmFtZSA9IFN0cmluZyhwcm9qZWN0Lm5hbWUpO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHByb2plY3ROYW1lLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0KSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNhdmVUb1N0b3JhZ2U7IiwiaW1wb3J0IHBvcHVsYXRlUHJvamVjdExpc3QgZnJvbSAnLi4vLi4vRE9NL3Byb2plY3RsaXN0JztcbmltcG9ydCBzYXZlVG9TdG9yYWdlIGZyb20gJy4uL0xvY2FsU3RvcmFnZS9zYXZldG9sb2NhbHN0b3JhZ2UnO1xuaW1wb3J0IGNyZWF0ZU5ld1Rhc2sgZnJvbSAnLi4vVGFza3MvY3JlYXRlbmV3dGFzayc7XG5cbmNsYXNzIFByb2plY3Qge1xuICBjb25zdHJ1Y3RvcihuYW1lLCB0b0RvTGlzdCkge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy50b0RvTGlzdCA9IHRvRG9MaXN0O1xuICB9XG5cbiAgY2hhbmdlTmFtZShuZXdOYW1lKSB7XG4gICAgdGhpcy5uYW1lID0gbmV3TmFtZTtcbiAgfVxuXG4gIGFkZFRvRG8odG9Ebykge1xuICAgIGNvbnN0IG5ld1RvRG8gPSBjcmVhdGVOZXdUYXNrKHRvRG8sICcxLzEvMjAyMicsIGZhbHNlKTtcbiAgICB0aGlzLnRvRG9MaXN0LnB1c2gobmV3VG9Ebyk7XG4gIH1cblxuICByZW1vdmVUb0RvKHRvRG8pIHtcbiAgICBjb25zdCByZW1vdmVkVG9EbyA9IHRoaXMudG9Eb0xpc3QuaW5kZXhPZih0b0RvKTtcbiAgICB0aGlzLnRvRG9MaXN0LnNwbGljZShyZW1vdmVkVG9EbywgMSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWFrZVByb2plY3RGb3JtKCkge1xuICBjb25zdCBuZXdQcm9qZWN0Rm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBuZXdQcm9qZWN0Rm9ybS5jbGFzc0xpc3QuYWRkKCduZXdQcm9qZWN0Rm9ybScpO1xuICBuZXdQcm9qZWN0Rm9ybS5zZXRBdHRyaWJ1dGUoJ2lkJywgJ25ld1Byb2plY3RGb3JtJyk7XG5cbiAgY29uc3QgbmV3UHJvamVjdE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBuZXdQcm9qZWN0TmFtZS5jbGFzc0xpc3QuYWRkKCduZXdQcm9qZWN0TmFtZScpO1xuXG4gIGNvbnN0IG5ld1Byb2plY3RCdXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIG5ld1Byb2plY3RCdXR0b25zLmNsYXNzTGlzdC5hZGQoJ25ld1Byb2plY3RCdXR0b25zJyk7XG5cbiAgY29uc3QgbmV3UHJvamVjdFN1Ym1pdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBuZXdQcm9qZWN0U3VibWl0LmNsYXNzTGlzdC5hZGQoJ25ld1Byb2plY3RTdWJtaXQnKTtcbiAgbmV3UHJvamVjdFN1Ym1pdC50ZXh0Q29udGVudCA9ICdTdWJtaXQnO1xuICBuZXdQcm9qZWN0U3VibWl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNyZWF0ZU5ld1Byb2plY3QobmV3UHJvamVjdE5hbWUudmFsdWUpO1xuICAgIGNsb3NlUHJvamVjdEZvcm0oKTtcbiAgICBwb3B1bGF0ZVByb2plY3RMaXN0KCk7XG4gIH0pO1xuXG4gIGNvbnN0IG5ld1Byb2plY3RDYW5jZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgbmV3UHJvamVjdENhbmNlbC5jbGFzc0xpc3QuYWRkKCduZXdQcm9qZWN0Q2FuY2VsJyk7XG4gIG5ld1Byb2plY3RDYW5jZWwudGV4dENvbnRlbnQgPSAnQ2FuY2VsJztcbiAgbmV3UHJvamVjdENhbmNlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjbG9zZVByb2plY3RGb3JtKCk7XG4gIH0pO1xuXG4gIG5ld1Byb2plY3RCdXR0b25zLmFwcGVuZENoaWxkKG5ld1Byb2plY3RTdWJtaXQpO1xuICBuZXdQcm9qZWN0QnV0dG9ucy5hcHBlbmRDaGlsZChuZXdQcm9qZWN0Q2FuY2VsKTtcblxuICBuZXdQcm9qZWN0Rm9ybS5hcHBlbmRDaGlsZChuZXdQcm9qZWN0TmFtZSk7XG4gIG5ld1Byb2plY3RGb3JtLmFwcGVuZENoaWxkKG5ld1Byb2plY3RCdXR0b25zKTtcblxuICByZXR1cm4gbmV3UHJvamVjdEZvcm07XG59XG5cbmZ1bmN0aW9uIGNsb3NlUHJvamVjdEZvcm0oKSB7XG4gIGNvbnN0IG5hdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaWRlYmFyJyk7XG4gIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3UHJvamVjdEZvcm0nKTtcbiAgbmF2LnJlbW92ZUNoaWxkKGZvcm0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVOZXdQcm9qZWN0KG5hbWUsIHRvRG9MaXN0KSB7XG4gIGNvbnN0IHByb2plY3QgPSBuZXcgUHJvamVjdChuYW1lLCB0b0RvTGlzdCk7XG4gIC8vIFN0aWxsIG5lZWRzIHRvIHNwaXQgb3V0IHRoZSBuZXcgcHJvamVjdCB0byB0aGUgcHJvamVjdCBvdmVydmlldyBkaXNwbGF5IGFyZWFcbiAgc2F2ZVRvU3RvcmFnZShwcm9qZWN0KTtcbiAgcmV0dXJuIHByb2plY3Q7XG59XG5cbmV4cG9ydCB7IG1ha2VQcm9qZWN0Rm9ybSwgY3JlYXRlTmV3UHJvamVjdCB9O1xuIiwiZnVuY3Rpb24gZGVsZXRlVGFzayh0YXNrLCBwcm9qZWN0KSB7XG4gIHByb2plY3QudG9Eb0xpc3Quc3BsaWNlKHRhc2ssIDEpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBkZWxldGVUYXNrO1xuIiwiaW1wb3J0IGNoZWNrU3RvcmFnZSBmcm9tICcuLi9hcHBsb2dpYy9Mb2NhbFN0b3JhZ2UvY2hlY2tsb2NhbHN0b3JhZ2UnO1xuaW1wb3J0IHNhdmVUb1N0b3JhZ2UgZnJvbSAnLi4vYXBwbG9naWMvTG9jYWxTdG9yYWdlL3NhdmV0b2xvY2Fsc3RvcmFnZSc7XG5pbXBvcnQgZGVsZXRlVGFzayBmcm9tICcuLi9hcHBsb2dpYy9UYXNrcy9kZWxldGV0YXNrJztcblxuZnVuY3Rpb24gZ2V0QWN0aXZlUHJvamVjdCgpIHtcbiAgbGV0IHJlc3VsdCA9IDA7XG4gIGNvbnN0IHByb2plY3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncHJvamVjdExpc3RJdGVtJyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAocHJvamVjdHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gMDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gcG9wdWxhdGVEaXNwbGF5KCkge1xuICBjb25zdCBhY3RpdmVQcm9qZWN0ID0gZ2V0QWN0aXZlUHJvamVjdCgpO1xuICBjb25zdCBkaXNwbGF5QXJlYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib2R5Jyk7XG4gIGNvbnN0IHVzZXJQcm9qZWN0cyA9IGNoZWNrU3RvcmFnZSgpO1xuXG4gIGRpc3BsYXlBcmVhLmlubmVySFRNTCA9ICcnO1xuXG4gIGNvbnN0IHByb2plY3RUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgcHJvamVjdFRpdGxlLnRleHRDb250ZW50ID0gYCR7dXNlclByb2plY3RzW2FjdGl2ZVByb2plY3RdLm5hbWV9YDtcbiAgcHJvamVjdFRpdGxlLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3RUaXRsZScpO1xuXG4gIGNvbnN0IHByb2plY3RUYXNrc0FyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcHJvamVjdFRhc2tzQXJlYS5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0VGFza3NBcmVhJyk7XG5cbiAgY29uc3QgdGFza3MgPSB1c2VyUHJvamVjdHNbYWN0aXZlUHJvamVjdF0udG9Eb0xpc3Q7XG5cbiAgaWYgKHRhc2tzLmxlbmd0aCA+IDApIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhc2tzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCB0YXNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0YXNrLmNsYXNzTGlzdC5hZGQoJ3Rhc2snKTtcblxuICAgICAgY29uc3QgdGFza1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgdGFza1RpdGxlLnRleHRDb250ZW50ID0gdGFza3NbaV0uZ2V0TmFtZSgpO1xuXG4gICAgICBjb25zdCB0YXNrRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgIHRhc2tEYXRlLnRleHRDb250ZW50ID0gdGFza3NbaV0uZ2V0RGF0ZSgpO1xuXG4gICAgICBjb25zdCBjb21wbGV0ZWREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnN0IHRhc2tDb21wbGV0ZWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgdGFza0NvbXBsZXRlZC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnY2hlY2tib3gnKTtcbiAgICAgIHRhc2tDb21wbGV0ZWQuc2V0QXR0cmlidXRlKCdpZCcsIGAke3Rhc2tUaXRsZS50ZXh0Q29udGVudH0gQ29tcGxldGVkYCk7XG4gICAgICBjb25zdCB0YXNrQ29tcGxldGVkTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgdGFza0NvbXBsZXRlZExhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgYCR7dGFza1RpdGxlLnRleHRDb250ZW50fSBDb21wbGV0ZWRgKTtcbiAgICAgIHRhc2tDb21wbGV0ZWRMYWJlbC50ZXh0Q29udGVudCA9ICdDb21wbGV0ZWQnO1xuXG4gICAgICBjb21wbGV0ZWREaXYuYXBwZW5kQ2hpbGQodGFza0NvbXBsZXRlZCk7XG4gICAgICBjb21wbGV0ZWREaXYuYXBwZW5kQ2hpbGQodGFza0NvbXBsZXRlZExhYmVsKTtcblxuICAgICAgY29uc3QgZGVsZXRlVGFza0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgZGVsZXRlVGFza0J1dHRvbi50ZXh0Q29udGVudCA9ICdYJztcbiAgICAgIGRlbGV0ZVRhc2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGRlbGV0ZVRhc2soaSwgdXNlclByb2plY3RzW2FjdGl2ZVByb2plY3RdKTtcbiAgICAgICAgc2F2ZVRvU3RvcmFnZSh1c2VyUHJvamVjdHNbYWN0aXZlUHJvamVjdF0pO1xuICAgICAgICBwb3B1bGF0ZURpc3BsYXkoKTtcbiAgICAgIH0pO1xuXG4gICAgICB0YXNrLmFwcGVuZENoaWxkKHRhc2tUaXRsZSk7XG4gICAgICB0YXNrLmFwcGVuZENoaWxkKHRhc2tEYXRlKTtcbiAgICAgIHRhc2suYXBwZW5kQ2hpbGQoY29tcGxldGVkRGl2KTtcbiAgICAgIHRhc2suYXBwZW5kQ2hpbGQoZGVsZXRlVGFza0J1dHRvbik7XG5cbiAgICAgIHByb2plY3RUYXNrc0FyZWEuYXBwZW5kQ2hpbGQodGFzayk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgbmV3VGFza0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBuZXdUYXNrQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3Rhc2snKTtcbiAgbmV3VGFza0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ25ld1Rhc2tCdXR0b24nKTtcbiAgbmV3VGFza0J1dHRvbi50ZXh0Q29udGVudCA9ICdBZGQgTmV3IFRhc2snO1xuICBuZXdUYXNrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0IHByb2plY3QgPSB1c2VyUHJvamVjdHNbYWN0aXZlUHJvamVjdF07XG4gICAgcHJvamVjdC5hZGRUb0RvKCdOZXcgVGFzaycpO1xuICAgIHNhdmVUb1N0b3JhZ2UocHJvamVjdCk7XG4gICAgcG9wdWxhdGVEaXNwbGF5KCk7XG4gIH0pO1xuICBwcm9qZWN0VGFza3NBcmVhLmFwcGVuZENoaWxkKG5ld1Rhc2tCdXR0b24pO1xuXG4gIGRpc3BsYXlBcmVhLmFwcGVuZENoaWxkKHByb2plY3RUaXRsZSk7XG4gIGRpc3BsYXlBcmVhLmFwcGVuZENoaWxkKHByb2plY3RUYXNrc0FyZWEpO1xuXG4gIHJldHVybiBkaXNwbGF5QXJlYTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcG9wdWxhdGVEaXNwbGF5O1xuIiwiLy8gVGhpcyBtb2R1bGUgY3JlYXRlcyB0aGUgY29udGVudCBzdHJ1Y3R1cmUgZm9yIHdoaWNoIHRoaXMgYXBwbGljYXRpb24gd2lsbCB1c2VcbmltcG9ydCB7IG1ha2VQcm9qZWN0Rm9ybSB9IGZyb20gJy4vYXBwbG9naWMvUHJvamVjdHMvY3JlYXRlbmV3cHJvamVjdCc7XG5pbXBvcnQgcG9wdWxhdGVQcm9qZWN0TGlzdCBmcm9tICcuL0RPTS9wcm9qZWN0bGlzdCc7XG5pbXBvcnQgcG9wdWxhdGVEaXNwbGF5IGZyb20gJy4vRE9NL3Byb2plY3RvdmVydmlldyc7XG5cbmZ1bmN0aW9uIGNyZWF0ZUhlYWRlcigpIHtcbiAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaGVhZGVyJyk7XG4gIGhlYWRlci5jbGFzc0xpc3QuYWRkKCdoZWFkZXInKTtcblxuICBjb25zdCBhcHBUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJyk7XG4gIGFwcFRpdGxlLnRleHRDb250ZW50ID0gJ1RvLkRvJztcbiAgYXBwVGl0bGUuY2xhc3NMaXN0LmFkZCgnYXBwVGl0bGUnKTtcblxuICBoZWFkZXIuYXBwZW5kQ2hpbGQoYXBwVGl0bGUpO1xuXG4gIHJldHVybiBoZWFkZXI7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVNpZGVCYXIoKSB7XG4gIGNvbnN0IHNpZGViYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdzaWRlYmFyJyk7XG4gIHNpZGViYXIuc2V0QXR0cmlidXRlKCdpZCcsICdzaWRlYmFyJyk7XG5cbiAgY29uc3QgcHJvamVjdExpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcHJvamVjdExpc3QuY2xhc3NMaXN0LmFkZCgncHJvamVjdExpc3QnKTtcbiAgcHJvamVjdExpc3Quc2V0QXR0cmlidXRlKCdpZCcsICdwcm9qZWN0TGlzdCcpO1xuXG4gIGNvbnN0IGFkZFByb2plY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgYWRkUHJvamVjdC5jbGFzc0xpc3QuYWRkKCdhZGRQcm9qZWN0Jyk7XG4gIGFkZFByb2plY3QudGV4dENvbnRlbnQgPSAnQWRkIFByb2plY3QnO1xuICBhZGRQcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHNpZGViYXIuYXBwZW5kQ2hpbGQobWFrZVByb2plY3RGb3JtKCkpO1xuICB9KTtcblxuICBzaWRlYmFyLmFwcGVuZENoaWxkKHByb2plY3RMaXN0KTtcbiAgc2lkZWJhci5hcHBlbmRDaGlsZChhZGRQcm9qZWN0KTtcblxuICByZXR1cm4gc2lkZWJhcjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQm9keSgpIHtcbiAgY29uc3QgYm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ21haW4nKTtcbiAgYm9keS5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2JvZHknKTtcbiAgYm9keS5jbGFzc0xpc3QuYWRkKCdtYWluJyk7XG4gIHJldHVybiBib2R5O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGb290ZXIoKSB7XG4gIGNvbnN0IGZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvb3RlcicpO1xuICBmb290ZXIuY2xhc3NMaXN0LmFkZCgnZm9vdGVyJyk7XG5cbiAgY29uc3QgY29weXJpZ2h0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICBjb3B5cmlnaHQudGV4dENvbnRlbnQgPSAnwqlKYWNvYiBCZWFjb20gMjAyMSc7XG4gIGNvcHlyaWdodC5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnaHR0cHM6Ly9naXRodWIuY29tL2phY29iYmVhY29tJyk7XG4gIGZvb3Rlci5hcHBlbmRDaGlsZChjb3B5cmlnaHQpO1xuXG4gIHJldHVybiBmb290ZXI7XG59XG5cbmZ1bmN0aW9uIGluaXRpYWxpemVTaXRlKCkge1xuICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnQnKTtcbiAgY29udGVudC5hcHBlbmRDaGlsZChjcmVhdGVIZWFkZXIoKSk7XG4gIGNvbnRlbnQuYXBwZW5kQ2hpbGQoY3JlYXRlU2lkZUJhcigpKTtcbiAgcG9wdWxhdGVQcm9qZWN0TGlzdCgpO1xuICBjb250ZW50LmFwcGVuZENoaWxkKGNyZWF0ZUJvZHkoKSk7XG4gIGNvbnRlbnQuYXBwZW5kQ2hpbGQoY3JlYXRlRm9vdGVyKCkpO1xuICBwb3B1bGF0ZURpc3BsYXkoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgaW5pdGlhbGl6ZVNpdGU7XG4iLCJpbXBvcnQgaW5pdGlhbGl6ZVNpdGUgZnJvbSBcIi4vd2Vic2l0ZVwiO1xuXG5pbml0aWFsaXplU2l0ZSgpOyJdLCJuYW1lcyI6WyJUYXNrIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiZHVlRGF0ZSIsImNvbXBsZXRlZCIsInRoaXMiLCJzZXROYW1lIiwic2V0RGF0ZSIsInNldENvbXBsZXRlZFN0YXR1cyIsImdldE5hbWUiLCJnZXREYXRlIiwiZ2V0Q29tcGxldGVkU3RhdHVzIiwibmV3VGFzayIsImNvbnNvbGUiLCJsb2ciLCJwcm9qZWN0cyIsImNsYXNzZWRQcm9qZWN0cyIsInRvRG9MaXN0IiwiY2xhc3NlZFRvRG9MaXN0IiwibG9jYWxTdG9yYWdlIiwibGVuZ3RoIiwiZGVmYXVsdFByb2plY3QiLCJjcmVhdGVOZXdQcm9qZWN0IiwicHVzaCIsImtleXMiLCJPYmplY3QiLCJpIiwiSlNPTiIsInBhcnNlIiwiZ2V0SXRlbSIsInAiLCJzIiwidGFzayIsImNsYXNzZWRUYXNrIiwiY2xhc3NlZFByb2plY3QiLCJwcm9qZWN0TGlzdCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJsaXN0IiwiaW5uZXJIVE1MIiwibGlzdEl0ZW0iLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJzZXRBdHRyaWJ1dGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInRhcmdldCIsImNvbnRhaW5zIiwiYnV0dG9ucyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJyZW1vdmUiLCJhcHBlbmRDaGlsZCIsInByb2plY3QiLCJwcm9qZWN0TmFtZSIsIlN0cmluZyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJQcm9qZWN0IiwiY2hhbmdlTmFtZSIsIm5ld05hbWUiLCJhZGRUb0RvIiwidG9EbyIsIm5ld1RvRG8iLCJyZW1vdmVUb0RvIiwicmVtb3ZlZFRvRG8iLCJpbmRleE9mIiwic3BsaWNlIiwiY2xvc2VQcm9qZWN0Rm9ybSIsIm5hdiIsImZvcm0iLCJyZW1vdmVDaGlsZCIsInBvcHVsYXRlRGlzcGxheSIsImFjdGl2ZVByb2plY3QiLCJyZXN1bHQiLCJnZXRBY3RpdmVQcm9qZWN0IiwiZGlzcGxheUFyZWEiLCJ1c2VyUHJvamVjdHMiLCJwcm9qZWN0VGl0bGUiLCJwcm9qZWN0VGFza3NBcmVhIiwidGFza3MiLCJ0YXNrVGl0bGUiLCJ0YXNrRGF0ZSIsImNvbXBsZXRlZERpdiIsInRhc2tDb21wbGV0ZWQiLCJ0YXNrQ29tcGxldGVkTGFiZWwiLCJkZWxldGVUYXNrQnV0dG9uIiwibmV3VGFza0J1dHRvbiIsImNvbnRlbnQiLCJoZWFkZXIiLCJhcHBUaXRsZSIsImNyZWF0ZUhlYWRlciIsInNpZGViYXIiLCJhZGRQcm9qZWN0IiwibmV3UHJvamVjdEZvcm0iLCJuZXdQcm9qZWN0TmFtZSIsIm5ld1Byb2plY3RCdXR0b25zIiwibmV3UHJvamVjdFN1Ym1pdCIsInZhbHVlIiwibmV3UHJvamVjdENhbmNlbCIsIm1ha2VQcm9qZWN0Rm9ybSIsImNyZWF0ZVNpZGVCYXIiLCJib2R5IiwiY3JlYXRlQm9keSIsImZvb3RlciIsImNvcHlyaWdodCIsImNyZWF0ZUZvb3RlciJdLCJzb3VyY2VSb290IjoiIn0=