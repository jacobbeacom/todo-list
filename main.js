(()=>{"use strict";function t(){let t=[],e=[];const n=[];if(0===localStorage.length){const t=s("New Project",n);e.push(t)}else if(localStorage.length>0){const n=Object.keys(localStorage);let c=n.length;for(;c--;)t.push(JSON.parse(localStorage.getItem(n[c])));for(let n=0;n<t.length;n++){const c=s(t[n].name,t[n].toDoList);e.push(c)}}return e}const e=function(){const e=document.getElementById("projectList");let n=t();e.innerHTML="";for(let t=0;t<n.length;t++){const c=document.createElement("button");c.classList.add("projectListItem"),c.textContent=`${n[t].name}`,c.setAttribute("id",`${n[t].name}`),c.addEventListener("click",(t=>{if(!t.target.classList.contains("active")){const e=document.getElementsByClassName("projectListItem");for(let t=0;t<e.length;t++)e[t].classList.remove("active");t.target.classList.add("active")}})),e.appendChild(c)}},n=function(t){const e=String(t.name);localStorage.setItem(e,JSON.stringify(t))};class c{constructor(t,e){this.name=t,this.toDoList=e}changeName(t){this.name=t}addToDo(t){this.toDoList.push(t)}removeToDo(t){const e=this.toDoList.indexOf(t);this.toDoList.splice(e,1)}}function o(){const t=document.getElementById("sidebar"),e=document.getElementById("newProjectForm");t.removeChild(e)}function s(t,e){const o=new c(t,e);return n(o),o}!function(){const c=document.getElementById("content");c.appendChild(function(){const t=document.createElement("header");t.classList.add("header");const e=document.createElement("h1");return e.textContent="To.Do",e.classList.add("appTitle"),t.appendChild(e),t}()),c.appendChild(function(){const t=document.createElement("div");t.classList.add("sidebar"),t.setAttribute("id","sidebar");const n=document.createElement("div");n.classList.add("projectList"),n.setAttribute("id","projectList");const c=document.createElement("button");return c.classList.add("addProject"),c.textContent="Add Project",c.addEventListener("click",(()=>{t.appendChild(function(){const t=document.createElement("div");t.classList.add("newProjectForm"),t.setAttribute("id","newProjectForm");const n=document.createElement("input");n.classList.add("newProjectName");const c=document.createElement("div");c.classList.add("newProjectButtons");const d=document.createElement("button");d.classList.add("newProjectSubmit"),d.textContent="Submit",d.addEventListener("click",(()=>{s(n.value),o(),e()}));const a=document.createElement("button");return a.classList.add("newProjectCancel"),a.textContent="Cancel",a.addEventListener("click",(()=>{o()})),c.appendChild(d),c.appendChild(a),t.appendChild(n),t.appendChild(c),t}())})),t.appendChild(n),t.appendChild(c),t}()),e(),c.appendChild(function(){const t=document.createElement("main");return t.setAttribute("id","body"),t.classList.add("main"),t}()),c.appendChild(function(){const t=document.createElement("footer");t.classList.add("footer");const e=document.createElement("a");return e.textContent="Â©Jacob Beacom 2021",e.setAttribute("href","https://github.com/jacobbeacom"),t.appendChild(e),t}()),function(){const e=function(){const t=document.getElementsByClassName("projectListItem");for(let e=0;e<t.length;e++)return t[e].classList.contains("active")?e:0}(),c=document.getElementById("body"),o=t();c.innerHTML="";const s=document.createElement("p");s.textContent=`${e.name}`,s.classList.add("projectTitle");const d=document.createElement("div");d.classList.add("projectTasksArea");const a=o[e].toDoList;if(a.length>0)for(let t=0;t<a.length;t++){let e=document.createElement("button");e.classList.add("task"),e.textContent=a[t],d.appendChild(e)}const i=document.createElement("button");i.classList.add("task"),i.setAttribute("id","newTaskButton"),i.addEventListener("click",(()=>{const t=o[e];t.addToDo("New Task"),n(t)})),d.appendChild(i),c.appendChild(s),c.appendChild(d)}()}()})();